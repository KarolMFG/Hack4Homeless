
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HackForHomeless</title>
    <link rel="stylesheet" href="stylesheet.css">
    <script>
        function loadGoogleMaps(apiKey) {
            if (!apiKey) {
                console.error("Error: API key is missing.");
                alert("Error: Google Maps API key not found.");
                return;
            }

            const script = document.createElement("script");
            script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&callback=initMap&v=weekly`;
            script.defer = true;
            document.head.appendChild(script);
        }

        fetch('config.json')
            .then(response => {
                if (!response.ok) throw new Error(`Failed to load API key. Status: ${response.status}`);
                return response.json();
            })
            .then(config => {
                loadGoogleMaps(config.GOOGLE_MAPS_API_KEY);
            })
            .catch(error => {
                console.error("Error loading API key:", error);
                alert("Error: Could not load API key. Please check config.json.");
            });
    </script>
    
    <script src="https://karolmfg.github.io/Hack4Homeless/scripts/script.js" defer></script>
</head>
<body>

    <header>
        <h1 class="logo">Hack4Homeless</h1>
        <nav>
            <ul>
                <li><a href="https://karolmfg.github.io/Hack4Homeless/info">General Information</a></li>
                <li><a href="https://karolmfg.github.io/Hack4Homeless/edu">Educational Resources</a></li>
                <li><a href="#map">Community Outreach Map</a></li>
                <li><a href="https://karolmfg.github.io/Hack4Homeless/apply">Add Shelters</a></li>
            </ul>
        </nav>
    </header>

    <main>

        <section id="map">
            <h2>Community Outreach Map</h2>
            <div id="map" style="height: 500px; width: 100%;"></div>
        </section>

<section id="directions">
    <h2>Find Directions to a Shelter</h2>

    <label for="start">Start:</label>
    <select id="start">
        <option value="current">Use My Location</option>
        <option value="1600 Pennsylvania Ave NW, Washington, DC">White House</option>
        <option value="600 Massachusetts Ave NW, Washington, DC">Bus Station</option>
        <option value="Union Station, Washington, DC">Union Station</option>
    </select>
    <label for="end">Select a Shelter:</label>
    <select id="end"></select>
    <label for="travel-mode">Travel Mode:</label>
    <select id="travel-mode">
        <option value="WALKING">Walking</option>
        <option value="DRIVING">Driving</option>
        <option value="BICYCLING">Bicycling</option>
        <option value="TRANSIT">Public Transport</option>
    </select>
    <button id="get-directions">Get Directions</button>
    <div id="directions-panel" style="margin-top: 20px; background: #fff; padding: 10px; border-radius: 5px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);"></div>
</section>
    </main>
    
    <script src="https://karolmfg.github.io/Hack4Homeless/scripts/maps.js" defer></script>
</body>
</html>
