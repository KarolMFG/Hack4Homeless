<!DOCTYPE html>
<html>
  <head>
    <title>Hack4Homeless Apply</title>
    <link rel="stylesheet" href="../stylesheet.css">
    <script src="https://maps.googleapis.com/maps/api/js?key=${apiKey}&libraries=places" defer></script>    
<script>
    function loadGoogleMaps(apiKey) {
        if (!apiKey) {
            console.error("Error: API key is missing.");
            alert("Error: Google Maps API key not found.");
            return;
        }
        const script = document.createElement("script");
        script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&libraries=places&callback=initMap&v=weekly`;
        script.defer = true;
        document.head.appendChild(script);
    }
    fetch('Hack4Homeless/config.json')  // Adjust path if needed
        .then(response => {
            if (!response.ok) throw new Error(`Failed to load API key. Status: ${response.status}`);
            return response.json();
        })
        .then(config => {
            loadGoogleMaps(config.GOOGLE_MAPS_API_KEY);
        })
        .catch(error => {
            console.error("Error loading API key:", error);
            alert("Error: Could not load API key. Please check config.json.");
        });
</script>
    <script src="https://karolmfg.github.io/Hack4Homeless/scripts/maps.js" defer></script>
    <script src="https://karolmfg.github.io/Hack4Homeless/scripts/autocomplete.js" defer></script>
</head>
    <header>
        <h1 class="logo">Hack4Homeless <span style="font-size:x-large;color:#aaa;font-family:'Trebuchet MS'">Application</span></h1>
    </header>
    <body>
        <div class="main-container">
            <section id="request-shelter">
                <h2>Request a Shelter to be Added to the Map</h2>
                <form id="shelter-request-form">
    <label for="shelter-name">Shelter Name:</label>
    <input type="text" id="shelter-name" required>
    <label for="shelter-address">Shelter Address:</label>
    <input type="text" id="shelter-address" required>
    <label for="shelter-lat">Latitude:</label>
    <input type="number" id="shelter-lat" step="any" required readonly>
    <label for="shelter-lng">Longitude:</label>
    <input type="number" id="shelter-lng" step="any" required readonly>
    <button type="submit">Submit Request</button>
</form>
            </section>
            <br>
            <a class='center' style='display:block;background-color:#f4f4f4;border-radius: 10px;' href="https://karolmfg.github.io/Hack4Homeless/">Back to Main Page</a>
        </div>

    </body>
</html>
